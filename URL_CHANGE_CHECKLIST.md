# URLå¤‰æ›´ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

ã“ã®ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆã¯ã€å¤–éƒ¨ãƒªãƒ³ã‚¯ã®URLã‚’å¤‰æ›´ã™ã‚‹éš›ã«**çµ¶å¯¾ã«æ¼ã‚ŒãŒãªã„ã‚ˆã†ã«ã™ã‚‹**ãŸã‚ã®æ‰‹é †æ›¸ã§ã™ã€‚

## ğŸš¨ é‡è¦ãªæ•™è¨“

**2026-01-18ã®äº‹ä¾‹**: nankan-analytics.comãŒ17ç®‡æ‰€ã«æ®‹ã£ã¦ã„ãŸ
- GA4ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ: 4ç®‡æ‰€
- Astroãƒšãƒ¼ã‚¸: 8ç®‡æ‰€
- FAQå†…ã®ãƒ†ã‚­ã‚¹ãƒˆ: 1ç®‡æ‰€
- ã‚¹ã‚¯ãƒªãƒ—ãƒˆ: 1ç®‡æ‰€
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: 3ç®‡æ‰€

**æ ¹æœ¬åŸå› **:
1. URLå®šæ•°åŒ–ã•ã‚Œã¦ã„ãªã‹ã£ãŸï¼ˆãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ï¼‰
2. æ¤œç´¢ãŒä¸ååˆ†ã ã£ãŸï¼ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¦‹è½ã¨ã—ï¼‰
3. è‡ªå‹•ãƒã‚§ãƒƒã‚¯ãŒãªã‹ã£ãŸ

---

## âœ… URLå¤‰æ›´æ™‚ã®å¿…é ˆæ‰‹é †ï¼ˆ10ã‚¹ãƒ†ãƒƒãƒ—ï¼‰

### ã‚¹ãƒ†ãƒƒãƒ—1: å®šæ•°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°

```bash
# ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
code packages/shared/lib/constants.ts
```

**ä¿®æ­£ä¾‹**:
```typescript
export const EXTERNAL_LINKS = {
  NANKAN_ANALYTICS: 'https://nankan-analytics.keiba.link', // â† ã“ã“ã‚’ä¿®æ­£
  // ...
} as const;
```

âœ… ç¢ºèª: constants.tsã®è©²å½“URLã‚’å¤‰æ›´ã—ãŸ

---

### ã‚¹ãƒ†ãƒƒãƒ—2: å…¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢ï¼ˆç¬¬1å›ï¼‰

```bash
# æ—§URLã‚’æ¤œç´¢ï¼ˆå®Ÿéš›ã®URLã«ç½®ãæ›ãˆã‚‹ï¼‰
grep -r "æ—§URL" \
  --include="*.astro" \
  --include="*.js" \
  --include="*.mjs" \
  --include="*.cjs" \
  --include="*.ts" \
  --include="*.tsx" \
  --include="*.md" \
  --exclude-dir=node_modules \
  --exclude-dir=.git \
  --exclude-dir=dist \
  --exclude-dir=.netlify \
  packages/
```

**ä¾‹**:
```bash
grep -r "nankan-analytics\.com" \
  --include="*.astro" \
  --include="*.js" \
  --include="*.ts" \
  --include="*.md" \
  --exclude-dir=node_modules \
  packages/
```

âœ… ç¢ºèª: æ¤œç´¢çµæœã‚’ãƒ¡ãƒ¢ã—ãŸ

---

### ã‚¹ãƒ†ãƒƒãƒ—3: GA4ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ç¢ºèª

**ç¢ºèªç®‡æ‰€**ï¼ˆ4ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰:
- `packages/keiba-matome/public/scripts/ga4-tracking.js`
- `packages/chihou-keiba-matome/public/scripts/ga4-tracking.js`
- `packages/yosou-keiba-matome/public/scripts/ga4-tracking.js`
- `packages/shared/scripts/ga4-tracking.js`

**æ¤œç´¢æ–¹æ³•**:
```bash
grep -n "æ—§URL" packages/*/public/scripts/ga4-tracking.js packages/shared/scripts/ga4-tracking.js
```

âœ… ç¢ºèª: GA4ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¿®æ­£ã—ãŸ

---

### ã‚¹ãƒ†ãƒƒãƒ—4: Astroãƒšãƒ¼ã‚¸ï¼ˆCTAãƒãƒŠãƒ¼ï¼‰ã‚’ç¢ºèª

**ç¢ºèªç®‡æ‰€**:
- `packages/*/src/pages/**/*.astro`
- `packages/*/src/components/**/*.astro`

**æ¤œç´¢æ–¹æ³•**:
```bash
grep -rn "æ—§URL" packages/*/src/pages/ packages/*/src/components/
```

âœ… ç¢ºèª: Astroãƒšãƒ¼ã‚¸ã‚’ä¿®æ­£ã—ãŸ

---

### ã‚¹ãƒ†ãƒƒãƒ—5: FAQãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆå†…ã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ç¢ºèª

**ç¢ºèªç®‡æ‰€**:
- `packages/*/src/pages/faq.astro`
- `packages/*/CLAUDE.md`
- `README.md`
- `*.md`ï¼ˆå…¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰

**æ¤œç´¢æ–¹æ³•**:
```bash
grep -rn "æ—§URL" --include="*.md" .
```

âœ… ç¢ºèª: FAQãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä¿®æ­£ã—ãŸ

---

### ã‚¹ãƒ†ãƒƒãƒ—6: ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª

**ç¢ºèªç®‡æ‰€**:
- `scripts/*.mjs`
- `scripts/*.cjs`
- `packages/*/scripts/*.mjs`

**æ¤œç´¢æ–¹æ³•**:
```bash
grep -rn "æ—§URL" --include="*.mjs" --include="*.cjs" scripts/ packages/*/scripts/
```

âœ… ç¢ºèª: ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¿®æ­£ã—ãŸ

---

### ã‚¹ãƒ†ãƒƒãƒ—7: è‡ªå‹•ãƒã‚§ãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ

```bash
# URLæ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
bash scripts/check-urls.sh
```

**æœŸå¾…çµæœ**:
```
âœ… ã™ã¹ã¦ã®URLãƒã‚§ãƒƒã‚¯ã«åˆæ ¼ã—ã¾ã—ãŸ
```

**ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸå ´åˆ**:
- ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ã‚’ä¿®æ­£
- å†åº¦å®Ÿè¡Œ

âœ… ç¢ºèª: check-urls.shã«åˆæ ¼ã—ãŸ

---

### ã‚¹ãƒ†ãƒƒãƒ—8: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ

```bash
# å…¨ã‚µã‚¤ãƒˆã‚’ãƒ“ãƒ«ãƒ‰
npm run build:all

# ã¾ãŸã¯å€‹åˆ¥ã«ãƒ“ãƒ«ãƒ‰
cd packages/keiba-matome && npm run build
cd packages/chihou-keiba-matome && npm run build
cd packages/yosou-keiba-matome && npm run build
```

**æœŸå¾…çµæœ**: ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãªã—

âœ… ç¢ºèª: ãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰ã«æˆåŠŸã—ãŸ

---

### ã‚¹ãƒ†ãƒƒãƒ—9: ã‚³ãƒŸãƒƒãƒˆï¼†ãƒ—ãƒƒã‚·ãƒ¥

```bash
# å¤‰æ›´ã‚’ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°
git add -A

# ã‚³ãƒŸãƒƒãƒˆï¼ˆpre-commitãƒ•ãƒƒã‚¯ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã‚‹ï¼‰
git commit -m "fix: URLã‚’XXXã‹ã‚‰YYYã«å¤‰æ›´"

# ãƒ—ãƒƒã‚·ãƒ¥
git push origin main
```

**pre-commitãƒ•ãƒƒã‚¯ãŒè‡ªå‹•ãƒã‚§ãƒƒã‚¯**:
- é–“é•ã£ãŸURLãŒæ®‹ã£ã¦ã„ã‚Œã°ã‚³ãƒŸãƒƒãƒˆå¤±æ•—
- ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã‚‰ä¿®æ­£ã—ã¦å†ã‚³ãƒŸãƒƒãƒˆ

âœ… ç¢ºèª: ã‚³ãƒŸãƒƒãƒˆï¼†ãƒ—ãƒƒã‚·ãƒ¥ã«æˆåŠŸã—ãŸ

---

### ã‚¹ãƒ†ãƒƒãƒ—10: ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã®å‹•ä½œç¢ºèª

**ç¢ºèªé …ç›®**:
1. å„ã‚µã‚¤ãƒˆã§CTAãƒªãƒ³ã‚¯ãŒæ­£ã—ã„URLã«å‘ã„ã¦ã„ã‚‹ã‹
2. GA4ã‚¤ãƒ™ãƒ³ãƒˆãŒæ­£ã—ãè¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹
3. ãƒªãƒ³ã‚¯ã‚¯ãƒªãƒƒã‚¯æ™‚ã«404ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ã‹

**ç¢ºèªæ–¹æ³•**:
```bash
# æœ¬ç•ªã‚µã‚¤ãƒˆã§ãƒ–ãƒ©ã‚¦ã‚¶ã®é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’é–‹ã
# 1. Networkã‚¿ãƒ–ã§ãƒªãƒ³ã‚¯ã‚¯ãƒªãƒƒã‚¯ã‚’ç¢ºèª
# 2. Consoleã‚¿ãƒ–ã§ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèª
# 3. GA4ã§ã‚¤ãƒ™ãƒ³ãƒˆãŒè¨˜éŒ²ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèªï¼ˆæ•°æ™‚é–“å¾Œï¼‰
```

âœ… ç¢ºèª: æœ¬ç•ªç’°å¢ƒã§å‹•ä½œç¢ºèªã—ãŸ

---

## ğŸ›¡ï¸ å†ç™ºé˜²æ­¢ã®ä»•çµ„ã¿

### 1. URLå®šæ•°åŒ–ï¼ˆconstants.tsï¼‰

**å ´æ‰€**: `packages/shared/lib/constants.ts`

**ä½¿ç”¨ä¾‹**:
```typescript
import { EXTERNAL_LINKS } from '@keiba-matome/shared/lib/constants';

// Astroãƒšãƒ¼ã‚¸
<a href={EXTERNAL_LINKS.NANKAN_ANALYTICS}>å—é–¢ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹</a>

// JavaScript
const url = EXTERNAL_LINKS.NANKAN_ANALYTICS;
```

**åŠ¹æœ**:
- âœ… URLå¤‰æ›´æ™‚ã¯1ç®‡æ‰€ã®ä¿®æ­£ã§å®Œäº†
- âœ… ã‚¿ã‚¤ãƒé˜²æ­¢
- âœ… TypeScriptã®å‹ãƒã‚§ãƒƒã‚¯ã§èª¤ã‚Šã‚’æ¤œå‡º

---

### 2. pre-commitãƒ•ãƒƒã‚¯

**å ´æ‰€**: `.git/hooks/pre-commit`

**å‹•ä½œ**:
- ã‚³ãƒŸãƒƒãƒˆæ™‚ã«è‡ªå‹•ã§é–“é•ã£ãŸURLã‚’ãƒã‚§ãƒƒã‚¯
- é–“é•ã£ãŸURLãŒè¦‹ã¤ã‹ã‚Œã°ã‚³ãƒŸãƒƒãƒˆã‚’ä¸­æ–­

**åŠ¹æœ**:
- âœ… é–“é•ã£ãŸURLã®ã‚³ãƒŸãƒƒãƒˆã‚’é˜²æ­¢
- âœ… ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§å•é¡Œã‚’æ¤œå‡º

---

### 3. å®šæœŸãƒã‚§ãƒƒã‚¯ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

**å ´æ‰€**: `scripts/check-urls.sh`

**å®Ÿè¡Œæ–¹æ³•**:
```bash
bash scripts/check-urls.sh
```

**åŠ¹æœ**:
- âœ… æœˆæ¬¡ãƒã‚§ãƒƒã‚¯ã§æ—©æœŸç™ºè¦‹
- âœ… CI/CDã«çµ„ã¿è¾¼ã¿å¯èƒ½

---

## ğŸ“… å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

### æœˆæ¬¡ï¼ˆæ¯æœˆ1æ—¥ï¼‰

```bash
# URLæ¤œè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
bash scripts/check-urls.sh

# çµæœã‚’ç¢ºèª
# âœ… åˆæ ¼ â†’ å•é¡Œãªã—
# âŒ ã‚¨ãƒ©ãƒ¼ â†’ è©²å½“ç®‡æ‰€ã‚’ä¿®æ­£
```

---

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### pre-commitãƒ•ãƒƒã‚¯ãŒå‹•ã‹ãªã„

**åŸå› **: å®Ÿè¡Œæ¨©é™ãŒãªã„

**è§£æ±ºç­–**:
```bash
chmod +x .git/hooks/pre-commit
```

---

### check-urls.shã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

**åŸå› **: é–“é•ã£ãŸURLãŒæ®‹ã£ã¦ã„ã‚‹

**è§£æ±ºç­–**:
1. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§è©²å½“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
2. ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ã¦ä¿®æ­£
3. å†åº¦ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ

---

### constants.tsã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã«ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹

**åŸå› **: ã‚¤ãƒ³ãƒãƒ¼ãƒˆãŒæ­£ã—ããªã„

**è§£æ±ºç­–**:
```typescript
// æ­£ã—ã„ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
import { EXTERNAL_LINKS } from '@keiba-matome/shared/lib/constants';

// é–“é•ã£ãŸã‚¤ãƒ³ãƒãƒ¼ãƒˆï¼ˆç›¸å¯¾ãƒ‘ã‚¹ï¼‰
import { EXTERNAL_LINKS } from '../../../shared/lib/constants';
```

---

## ğŸ“Š éå»ã®ä¿®æ­£å±¥æ­´

### 2026-01-18: nankan-analytics.com â†’ nankan-analytics.keiba.link

**å½±éŸ¿ç¯„å›²**: 17ç®‡æ‰€
- GA4ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°: 4ç®‡æ‰€
- Astroãƒšãƒ¼ã‚¸: 8ç®‡æ‰€
- FAQ: 1ç®‡æ‰€
- ã‚¹ã‚¯ãƒªãƒ—ãƒˆ: 1ç®‡æ‰€
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ: 3ç®‡æ‰€

**ã‚³ãƒŸãƒƒãƒˆ**:
- keiba-matome-monorepo: `647b3d6`
- keiba-review-monorepo: `85bd26c`

**æ•™è¨“**:
- URLå®šæ•°åŒ–ãŒå¿…è¦
- pre-commitãƒ•ãƒƒã‚¯ãŒå¿…è¦
- å®šæœŸãƒã‚§ãƒƒã‚¯ãŒå¿…è¦

---

**ä½œæˆæ—¥**: 2026-01-18
**æœ€çµ‚æ›´æ–°**: 2026-01-18
