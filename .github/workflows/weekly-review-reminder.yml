name: Weekly Review Reminder

on:
  schedule:
    # æ¯é€±æœˆæ›œ 10:00 JSTï¼ˆ01:00 UTCï¼‰
    - cron: '0 1 * * 1'
  workflow_dispatch: # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½

jobs:
  create-issue:
    runs-on: ubuntu-latest

    steps:
      - name: Get current date
        id: date
        run: |
          echo "today=$(TZ=Asia/Tokyo date +'%Y-%m-%d')" >> $GITHUB_OUTPUT
          echo "week=$(TZ=Asia/Tokyo date +'Week %U')" >> $GITHUB_OUTPUT

      - name: Create GitHub Issue
        uses: actions/github-script@v7
        with:
          script: |
            const today = '${{ steps.date.outputs.today }}';
            const week = '${{ steps.date.outputs.week }}';

            const issue = await github.rest.issues.create({
              owner: context.repo.owner,
              repo: context.repo.repo,
              title: `ğŸ“Š é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆ${today}ï¼‰`,
              body: `
## ğŸ“Š é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®æ™‚é–“ã§ã™

Claude Codeã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼š

**é€±æ¬¡ãƒ¬ãƒ“ãƒ¥ãƒ¼**

---

## ğŸ“‹ å¿…è¦ãªãƒ‡ãƒ¼ã‚¿ï¼ˆGA4ã§ç¢ºèªï¼‰

### nankan-review
- **è¨ªå•è€…æ•°**ï¼ˆéå»7æ—¥é–“ï¼‰: ___äºº
- **nankan-analyticsã‚¯ãƒªãƒƒã‚¯**: ___å›
- **ã‚ªãƒ¼ã‚¬ãƒ‹ãƒƒã‚¯æ¤œç´¢**: ___%
- ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼: ___
- å¹³å‡ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“: ___ç§’
- ç›´å¸°ç‡: ___%

### keiba-review-all
- **è¨ªå•è€…æ•°**ï¼ˆéå»7æ—¥é–“ï¼‰: ___äºº
- **nankan-analyticsã‚¯ãƒªãƒƒã‚¯**: ___å›
- **ã‚ªãƒ¼ã‚¬ãƒ‹ãƒƒã‚¯æ¤œç´¢**: ___%
- ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼: ___
- å¹³å‡ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“: ___ç§’
- ç›´å¸°ç‡: ___%

---

## ğŸ“ GA4ã§ã®ãƒ‡ãƒ¼ã‚¿ç¢ºèªæ–¹æ³•

### 1. è¨ªå•è€…æ•°ï¼ˆUsersï¼‰
**GA4 > ãƒ¬ãƒãƒ¼ãƒˆ > ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« > ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ > æ¦‚è¦**
- æœŸé–“: éå»7æ—¥é–“
- æŒ‡æ¨™: ãƒ¦ãƒ¼ã‚¶ãƒ¼

### 2. nankan-analyticsã‚¯ãƒªãƒƒã‚¯æ•°
**GA4 > ãƒ¬ãƒãƒ¼ãƒˆ > ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« > ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆ > ã‚¤ãƒ™ãƒ³ãƒˆ**
- ã‚¤ãƒ™ãƒ³ãƒˆå: cta_click
- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã§ãƒ•ã‚£ãƒ«ã‚¿: event_label = "nankan_analytics_cta"
- æœŸé–“: éå»7æ—¥é–“

### 3. ã‚ªãƒ¼ã‚¬ãƒ‹ãƒƒã‚¯æ¤œç´¢ã®å‰²åˆ
**GA4 > ãƒ¬ãƒãƒ¼ãƒˆ > ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ« > é›†å®¢ > ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ç²å¾—**
- æœŸé–“: éå»7æ—¥é–“
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ ãƒãƒ£ãƒãƒ« ã‚°ãƒ«ãƒ¼ãƒ—ã§ã€ŒOrganic Searchã€ã‚’ç¢ºèª

---

## âœ… å®Œäº†å¾Œ

1. ä¸Šè¨˜ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜å…¥
2. Claude Codeã®åˆ†æçµæœã‚’ã‚³ãƒ¡ãƒ³ãƒˆã«è¿½è¨˜
3. ã“ã®Issueã‚’Closeã™ã‚‹

**å‚è€ƒè³‡æ–™:**
- [MONTH-1-SETUP-GUIDE.md](https://github.com/apol0510/keiba-review-monorepo/blob/main/MONTH-1-SETUP-GUIDE.md)
- [WEEKLY-REVIEW-CHECKLIST.md](https://github.com/apol0510/keiba-review-monorepo/blob/main/WEEKLY-REVIEW-CHECKLIST.md)
- [GA4-GROWTH-ROADMAP.md](https://github.com/apol0510/keiba-review-monorepo/blob/main/GA4-GROWTH-ROADMAP.md)
              `,
              labels: ['weekly-review', 'automated', 'analytics']
            });

            console.log('Created issue #' + issue.data.number + ': ' + issue.data.html_url);
