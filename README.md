# ğŸ‡ keiba-review-monorepo

ç«¶é¦¬äºˆæƒ³ã‚µã‚¤ãƒˆå£ã‚³ãƒŸãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ  Monorepo - åŠ¹ç‡çš„ãªè¤‡æ•°ã‚µã‚¤ãƒˆé‹å–¶åŸºç›¤

[![CI](https://github.com/apol0510/keiba-review-monorepo/actions/workflows/ci.yml/badge.svg)](https://github.com/apol0510/keiba-review-monorepo/actions/workflows/ci.yml)
[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](https://opensource.org/licenses/MIT)

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

è¤‡æ•°ã®ç«¶é¦¬äºˆæƒ³ã‚µã‚¤ãƒˆå£ã‚³ãƒŸãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’åŠ¹ç‡çš„ã«é‹å–¶ã™ã‚‹ãŸã‚ã®Monorepoã€‚nankan-analyticsï¼ˆå—é–¢ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ï¼‰ã¸ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯èª˜å°ã‚’ç›®çš„ã¨ã—ãŸæˆ¦ç•¥çš„ã‚µã‚¤ãƒˆç¾¤ã€‚

### ğŸ“Œ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç§»è¡Œã«ã¤ã„ã¦

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ã€æ—§[keiba-review](https://github.com/apol0510/keiba-review)ãƒªãƒã‚¸ãƒˆãƒªã‚’MonorepoåŒ–ã—ãŸã‚‚ã®ã§ã™ã€‚

**ç§»è¡Œã®çµŒç·¯:**
- 2025-12-29: Monorepoæ§‹ç¯‰é–‹å§‹
- 2025-12-30: æ—§ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ã‚³ãƒ¼ãƒ‰ç§»è¡Œå®Œäº†
- 2025-12-30: æ—§ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆå±¥æ­´å‚ç…§ç”¨ï¼‰
- 2025-12-30: 2ã‚µã‚¤ãƒˆä½“åˆ¶ã§ã®æœ¬ç•ªé‹ç”¨é–‹å§‹

**æ—§ãƒªãƒã‚¸ãƒˆãƒª:** [apol0510/keiba-review](https://github.com/apol0510/keiba-review) ğŸ—„ï¸ ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–æ¸ˆã¿

### ç¨¼åƒä¸­ã®ã‚µã‚¤ãƒˆ

| ã‚µã‚¤ãƒˆ | URL | ã‚«ãƒ†ã‚´ãƒª | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
|--------|-----|---------|----------|
| **keiba-review-all** | https://keiba-review.jp | ç·åˆï¼ˆå…¨ã‚«ãƒ†ã‚´ãƒªï¼‰ | âœ… ç¨¼åƒä¸­ |
| **nankan-review** | https://nankan.keiba-review.jp | å—é–¢ç‰¹åŒ– | âœ… ç¨¼åƒä¸­ |

## âœ¨ ä¸»è¦æ©Ÿèƒ½

- ğŸš€ **Monorepoæ§‹æˆ** - pnpm workspaces + Turborepo ã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªé–‹ç™º
- ğŸ“¦ **å…±é€šåŸºç›¤** - 534ä»¶ã®å£ã‚³ãƒŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã€Airtableæ“ä½œãƒ©ã‚¤ãƒ–ãƒ©ãƒªå…±æœ‰
- ğŸ¤– **è‡ªå‹•åŒ–** - GitHub Actionsã«ã‚ˆã‚‹å£ã‚³ãƒŸè‡ªå‹•æŠ•ç¨¿ãƒ»ãƒ‡ãƒ—ãƒ­ã‚¤
- ğŸ“Š **Analytics** - Google Analytics 4çµ±åˆãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°
- ğŸ¨ **æœ€é©åŒ–** - Astro SSGã€Tailwind CSSã€SEOæœ€é©åŒ–
- ğŸ”„ **CI/CD** - ãƒ‘ã‚¹ãƒ™ãƒ¼ã‚¹è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ï¼ˆ6ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
keiba-review-monorepo/
â”œâ”€â”€ packages/
â”‚   â”œâ”€â”€ shared/              # å…±é€šãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆ534ä»¶ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
â”‚   â”œâ”€â”€ keiba-review-all/    # ç·åˆå£ã‚³ãƒŸã‚µã‚¤ãƒˆ
â”‚   â””â”€â”€ nankan-review/       # å—é–¢ç‰¹åŒ–ã‚µã‚¤ãƒˆ
â”œâ”€â”€ .github/workflows/       # CI/CDï¼ˆ6ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰
â”œâ”€â”€ pnpm-workspace.yaml
â””â”€â”€ turbo.json
```

## ğŸš€ ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ

### å‰ææ¡ä»¶

- Node.js 20.x ä»¥ä¸Š
- pnpm 9.x ä»¥ä¸Š

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/apol0510/keiba-review-monorepo.git
cd keiba-review-monorepo

# pnpmã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆæœªã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®å ´åˆï¼‰
npm install -g pnpm

# ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm install

# ç’°å¢ƒå¤‰æ•°è¨­å®š
cp packages/keiba-review-all/.env.example packages/keiba-review-all/.env
cp packages/nankan-review/.env.example packages/nankan-review/.env
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦APIã‚­ãƒ¼ã‚’è¨­å®š

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•
pnpm dev
# keiba-review-all: http://localhost:4321
# nankan-review: http://localhost:4322
```

### ä¸»è¦ã‚³ãƒãƒ³ãƒ‰

```bash
# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•ï¼ˆå…¨ã‚µã‚¤ãƒˆï¼‰
pnpm dev

# ãƒ“ãƒ«ãƒ‰ï¼ˆå…¨ã‚µã‚¤ãƒˆï¼‰
pnpm build

# å€‹åˆ¥ã‚µã‚¤ãƒˆé–‹ç™º
pnpm --filter=@keiba-review/keiba-review-all dev
pnpm --filter=@keiba-review/nankan-review dev
```

## ğŸ“¦ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

### packages/shared

å…¨ã‚µã‚¤ãƒˆã§å…±æœ‰ã•ã‚Œã‚‹å…±é€šåŸºç›¤ã€‚

- **review-engine/** - 534ä»¶ã®å£ã‚³ãƒŸãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆâ­1ã€œâ­5ï¼‰
- **lib/airtable.ts** - Airtableæ“ä½œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆ600è¡Œï¼‰
- **lib/validation.ts** - Zodãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚­ãƒ¼ãƒ
- **types/** - TypeScriptå‹å®šç¾©

### packages/keiba-review-all

ç·åˆç«¶é¦¬äºˆæƒ³ã‚µã‚¤ãƒˆå£ã‚³ãƒŸãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚

- URL: https://keiba-review.jp
- ã‚«ãƒ†ã‚´ãƒª: nankan / chuo / chihou / other
- æ©Ÿèƒ½: å…¨ã‚«ãƒ†ã‚´ãƒªç¶²ç¾…ã€ç®¡ç†ç”»é¢ã€è‡ªå‹•æŠ•ç¨¿

### packages/nankan-review

å—é–¢ç«¶é¦¬å°‚é–€ã®å£ã‚³ãƒŸãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚

- URL: https://nankan-review.jp
- ã‚«ãƒ†ã‚´ãƒª: nankanå°‚ç”¨
- ç‰¹å¾´: é’ç³»ãƒ‡ã‚¶ã‚¤ãƒ³ã€nankan-analyticså°ç·šå¼·åŒ–

## ğŸ¤– è‡ªå‹•åŒ–

### GitHub Actionsï¼ˆ6ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼‰

| ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ | ãƒˆãƒªã‚¬ãƒ¼ | æ©Ÿèƒ½ |
|------------|---------|------|
| ci.yml | push/PR to main | å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ |
| deploy-keiba-review-all.yml | keiba-review-allå¤‰æ›´ | keiba-review-allãƒ‡ãƒ—ãƒ­ã‚¤ |
| deploy-nankan-review.yml | nankan-reviewå¤‰æ›´ | nankan-reviewãƒ‡ãƒ—ãƒ­ã‚¤ |
| auto-post-reviews.yml | æ¯æ—¥AM4:00 JST | å£ã‚³ãƒŸè‡ªå‹•æŠ•ç¨¿ |
| auto-screenshots.yml | æ¯é€±æœˆæ›œAM5:00 JST | ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆå–å¾— |
| daily-monitoring.yml | æ¯æ—¥AM9:00 JST | çµ±è¨ˆãƒ»ç•°å¸¸å€¤æ¤œå‡º |

è©³ç´°: [.github/workflows/README.md](.github/workflows/README.md)

## ğŸ”§ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ |
|---------|------|
| **Monorepo** | pnpm workspaces + Turborepo 2.7.2 |
| **Framework** | Astro 5.x + React 19.x |
| **Styling** | Tailwind CSS 4.x |
| **Database** | Airtable |
| **Analytics** | Google Analytics 4 |
| **Deployment** | Netlify |
| **CI/CD** | GitHub Actions |

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [CLAUDE.md](./CLAUDE.md) - è©³ç´°ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆæŠ€è¡“ä»•æ§˜ã€é‹ç”¨æŒ‡é‡ï¼‰
- [DEPLOYMENT.md](./DEPLOYMENT.md) - ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰
- [.github/workflows/README.md](./.github/workflows/README.md) - GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- [VSCode-CRASH-FIX.md](./VSCode-CRASH-FIX.md) - VSCodeã‚¯ãƒ©ãƒƒã‚·ãƒ¥å¯¾ç­–

## ğŸ¯ ä»Šå¾Œã®å±•é–‹

### Phase 3ï¼ˆäºˆå®šï¼‰
- 2ã‚µã‚¤ãƒˆä½“åˆ¶ã§ã®é‹ç”¨é–‹å§‹
- SEOæœ€é©åŒ–ã¨ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯åˆ†æ
- GA4ãƒ‡ãƒ¼ã‚¿æ´»ç”¨

### Phase 4ï¼ˆå°†æ¥ï¼‰
- chuo-keiba-reviewï¼ˆä¸­å¤®ç«¶é¦¬ç‰¹åŒ–ï¼‰
- chihou-keiba-reviewï¼ˆåœ°æ–¹ç«¶é¦¬ç‰¹åŒ–ï¼‰
- keiba-ai-reviewï¼ˆAIäºˆæƒ³ç‰¹åŒ–ï¼‰
- muryou-keiba-reviewï¼ˆç„¡æ–™äºˆæƒ³ç‰¹åŒ–ï¼‰
- 4-6ã‚µã‚¤ãƒˆä½“åˆ¶ã®ç¢ºç«‹

## ğŸ¤ è²¢çŒ®

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯nankan-analyticsã‚¨ã‚³ã‚·ã‚¹ãƒ†ãƒ ã®ä¸€éƒ¨ã§ã™ã€‚

**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ:**
- nankan-analytics.com - å—é–¢ç«¶é¦¬AIäºˆæƒ³ï¼ˆãƒ¡ã‚¤ãƒ³ï¼‰
- keiba-review.jp - ç·åˆå£ã‚³ãƒŸã‚µã‚¤ãƒˆï¼ˆå°ç·š1ï¼‰
- nankan-review.jp - å—é–¢ç‰¹åŒ–å£ã‚³ãƒŸã‚µã‚¤ãƒˆï¼ˆå°ç·š2ï¼‰

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License - è©³ç´°ã¯[LICENSE](./LICENSE)ã‚’å‚ç…§

## ğŸ“ ãŠå•ã„åˆã‚ã›

- GitHub: [@apol0510](https://github.com/apol0510)
- Issues: [GitHub Issues](https://github.com/apol0510/keiba-review-monorepo/issues)

---

**æœ€çµ‚æ›´æ–°:** 2025-12-30 | **ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** Monorepo v1.1.0 (Phase 3å®Œäº†)

