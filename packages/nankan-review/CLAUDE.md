# nankan-review

å—é–¢ç«¶é¦¬å°‚é–€ã®å£ã‚³ãƒŸãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

å—é–¢ç«¶é¦¬ï¼ˆå¤§äº•ãƒ»å·å´ãƒ»èˆ¹æ©‹ãƒ»æµ¦å’Œï¼‰ã«ç‰¹åŒ–ã—ãŸäºˆæƒ³ã‚µã‚¤ãƒˆã®å£ã‚³ãƒŸãƒ»è©•ä¾¡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚
nankan-analyticsï¼ˆå—é–¢ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ï¼‰ã¸ã®å°ç·šã¨ã—ã¦æ©Ÿèƒ½ã—ã€ãƒŠã‚¤ã‚¿ãƒ¼ç«¶é¦¬ãƒ•ã‚¡ãƒ³ã«ä¾¡å€¤ã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ—ï¸ ç‰¹å¾´

### å—é–¢ç«¶é¦¬ç‰¹åŒ–
- **å¯¾è±¡ç«¶é¦¬å ´**: å¤§äº•ï¼ˆTCKï¼‰ãƒ»å·å´ãƒ»èˆ¹æ©‹ãƒ»æµ¦å’Œ
- **å¯¾è±¡ã‚«ãƒ†ã‚´ãƒª**: `nankan`ã®ã¿
- **ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼**: é’ç³»ï¼ˆãƒŠã‚¤ã‚¿ãƒ¼ç«¶é¦¬ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰

### nankan-analyticsã¸ã®å°ç·š
- ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¨ã‚µã‚¤ãƒˆä¸€è¦§ãƒšãƒ¼ã‚¸ã«CTAè¨­ç½®
- ãƒ‡ãƒ¼ã‚¿åˆ†æã‚’æ±‚ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’èª˜å°
- SEOæœ€é©åŒ–ã§ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ç²å¾—

### Monorepoæ§‹æˆ
- **å…±é€šãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**: `@keiba-review/shared`ã‚’åˆ©ç”¨
- **ç‹¬ç«‹ãƒ‡ãƒ—ãƒ­ã‚¤**: keiba-review-allã¨ã¯åˆ¥ã®ãƒ‰ãƒ¡ã‚¤ãƒ³
- **ã‚³ãƒ¼ãƒ‰å…±æœ‰**: UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€å£ã‚³ãƒŸã‚¨ãƒ³ã‚¸ãƒ³ã€Airtableãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

## ğŸ“¦ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| é …ç›® | æŠ€è¡“ |
|------|------|
| Framework | Astro 5.x + React 19.x |
| Styling | Tailwind CSS 4.x |
| Database | Airtableï¼ˆkeiba-review-allã¨å…±é€šï¼‰ |
| Deployment | Netlify |
| Package Manager | pnpm (workspace) |

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Node.js 20.xä»¥ä¸Š
- pnpm 9.xä»¥ä¸Š
- Monorepoãƒ«ãƒ¼ãƒˆã§`pnpm install`å®Ÿè¡Œæ¸ˆã¿

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
# Monorepoãƒ«ãƒ¼ãƒˆã‹ã‚‰
pnpm --filter=@keiba-review/nankan-review dev

# ã¾ãŸã¯ nankan-reviewãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§
cd packages/nankan-review
pnpm dev
```

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆ: `4322`ï¼ˆkeiba-review-allã¨ç«¶åˆã—ãªã„ã‚ˆã†ã«è¨­å®šï¼‰

### ãƒ“ãƒ«ãƒ‰

```bash
# Monorepoãƒ«ãƒ¼ãƒˆã‹ã‚‰
pnpm --filter=@keiba-review/nankan-review build

# ã¾ãŸã¯ nankan-reviewãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§
pnpm build
```

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
nankan-review/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ index.astro              # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ sites.astro              # ã‚µã‚¤ãƒˆä¸€è¦§
â”‚   â”‚   â””â”€â”€ about.astro              # ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ BaseLayout.astro         # åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ components/                   # Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆå°†æ¥è¿½åŠ ï¼‰
â”‚   â”œâ”€â”€ lib/                          # ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆå°†æ¥è¿½åŠ ï¼‰
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ global.css                # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ public/
â”‚   â””â”€â”€ favicon.svg                   # ãƒ•ã‚¡ãƒ“ã‚³ãƒ³ï¼ˆå—ã®ãƒ­ã‚´ï¼‰
â”œâ”€â”€ package.json
â”œâ”€â”€ astro.config.mjs
â”œâ”€â”€ tsconfig.json
â””â”€â”€ CLAUDE.md                         # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³

### ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ

```css
--nankan-primary: #1e40af;    /* é’ç³» - ãƒ—ãƒ©ã‚¤ãƒãƒª */
--nankan-secondary: #0284c7;  /* ã‚¹ã‚«ã‚¤ãƒ–ãƒ«ãƒ¼ - ã‚»ã‚«ãƒ³ãƒ€ãƒª */
--nankan-accent: #f59e0b;     /* ã‚ªãƒ¬ãƒ³ã‚¸ - ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ */
```

### ãƒ•ã‚©ãƒ³ãƒˆ
- ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚©ãƒ³ãƒˆå„ªå…ˆ
- Hiragino Sansï¼ˆmacOSï¼‰
- Meiryoï¼ˆWindowsï¼‰

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### Airtableé€£æº

keiba-review-allã¨åŒã˜Airtable Baseã‚’ä½¿ç”¨ï¼š

```typescript
import { getSitesByCategory, sortByRankingScore } from '@keiba-review/shared/lib';

// nankanã‚«ãƒ†ã‚´ãƒªã®ã‚µã‚¤ãƒˆã®ã¿å–å¾—
const sites = await getSitesByCategory('nankan');
const ranked = sortByRankingScore(sites);
```

### å£ã‚³ãƒŸè‡ªå‹•æŠ•ç¨¿

shared/review-engineã‚’ä½¿ç”¨ã—ã¦å—é–¢ã‚µã‚¤ãƒˆã«å£ã‚³ãƒŸã‚’è‡ªå‹•æŠ•ç¨¿ï¼š
- æ¯æ—¥AM4:00ã«å®Ÿè¡Œï¼ˆGitHub Actionsï¼‰
- SiteQualityã«åŸºã¥ã„ã¦æŠ•ç¨¿é »åº¦ã‚’èª¿æ•´
- 534ä»¶ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ

## ğŸ“ˆ SEOæˆ¦ç•¥

### ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
- å—é–¢ç«¶é¦¬ äºˆæƒ³ã‚µã‚¤ãƒˆ
- å¤§äº•ç«¶é¦¬ äºˆæƒ³
- å·å´ç«¶é¦¬ äºˆæƒ³
- ãƒŠã‚¤ã‚¿ãƒ¼ç«¶é¦¬ äºˆæƒ³ã‚µã‚¤ãƒˆ
- TCK äºˆæƒ³

### ãƒ¡ã‚¿æƒ…å ±
- ã‚¿ã‚¤ãƒˆãƒ«: `[ãƒšãƒ¼ã‚¸å] | å—é–¢ç«¶é¦¬äºˆæƒ³ã‚µã‚¤ãƒˆå£ã‚³ãƒŸ`
- Description: å—é–¢4å ´ç‰¹åŒ–ã‚’å¼·èª¿
- Canonical URL: é©åˆ‡ã«è¨­å®š

### å†…éƒ¨ãƒªãƒ³ã‚¯
- nankan-analyticsã¸ã®å°ç·šã‚’æ˜ç¢ºã«
- é–¢é€£ã‚µã‚¤ãƒˆã¨ã—ã¦keiba-review-allã¸ã‚‚ãƒªãƒ³ã‚¯

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### Netlifyè¨­å®š

```bash
# Netlifyã‚µã‚¤ãƒˆä½œæˆ
netlify sites:create --name nankan-review

# ç’°å¢ƒå¤‰æ•°è¨­å®š
netlify env:set AIRTABLE_API_KEY "xxx"
netlify env:set AIRTABLE_BASE_ID "xxx"
netlify env:set PUBLIC_GA_ID "G-XXXXXXXXXX"
netlify env:set SITE_URL "https://nankan-review.jp"

# æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
netlify deploy --prod --build
```

### ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š
- äºˆå®šãƒ‰ãƒ¡ã‚¤ãƒ³: `nankan-review.jp`
- Netlify DNSã¾ãŸã¯ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š

## ğŸ”® å°†æ¥ã®æ‹¡å¼µ

### Phase 1ï¼ˆç¾åœ¨ï¼‰
- âœ… åŸºæœ¬ã‚µã‚¤ãƒˆæ§‹ç¯‰
- âœ… nankanã‚«ãƒ†ã‚´ãƒªã®ã‚µã‚¤ãƒˆä¸€è¦§è¡¨ç¤º
- âœ… nankan-analyticsã¸ã®å°ç·š

### Phase 2ï¼ˆäºˆå®šï¼‰
- â³ ã‚µã‚¤ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸
- â³ å£ã‚³ãƒŸæŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ 
- â³ ãƒ©ãƒ³ã‚­ãƒ³ã‚°ãƒšãƒ¼ã‚¸

### Phase 3ï¼ˆäºˆå®šï¼‰
- â³ å—é–¢4å ´åˆ¥ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- â³ ã‚³ãƒ¼ã‚¹åˆ¥ã®å‚¾å‘åˆ†æï¼ˆnankan-analyticsã¨ã®é€£æºï¼‰
- â³ é–‹å‚¬æƒ…å ±ã®è¡¨ç¤º

## ğŸ“š å‚è€ƒè³‡æ–™

- [Monorepoå…¨ä½“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](../../CLAUDE.md)
- [shared ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸](../shared/README.md)
- [Astro Documentation](https://docs.astro.build/)
- [Tailwind CSS](https://tailwindcss.com/)

## ğŸ¤ é–¢é€£ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

- **keiba-review-all**: ç·åˆç«¶é¦¬äºˆæƒ³ã‚µã‚¤ãƒˆå£ã‚³ãƒŸ
- **nankan-analytics**: å—é–¢ç«¶é¦¬ãƒ‡ãƒ¼ã‚¿åˆ†æã‚µã‚¤ãƒˆï¼ˆå°ç·šå…ˆï¼‰
- **shared**: å…±é€šãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

---

æœ€çµ‚æ›´æ–°: 2025-12-29
