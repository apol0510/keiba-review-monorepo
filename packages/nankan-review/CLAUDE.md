# nankan-review

å—é–¢ç«¶é¦¬å°‚é–€ã®å£ã‚³ãƒŸãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ 

## ğŸ¯ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

å—é–¢ç«¶é¦¬ï¼ˆå¤§äº•ãƒ»å·å´ãƒ»èˆ¹æ©‹ãƒ»æµ¦å’Œï¼‰ã«ç‰¹åŒ–ã—ãŸäºˆæƒ³ã‚µã‚¤ãƒˆã®å£ã‚³ãƒŸãƒ»è©•ä¾¡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã€‚
nankan-analyticsï¼ˆå—é–¢ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹ï¼‰ã¸ã®å°ç·šã¨ã—ã¦æ©Ÿèƒ½ã—ã€ãƒŠã‚¤ã‚¿ãƒ¼ç«¶é¦¬ãƒ•ã‚¡ãƒ³ã«ä¾¡å€¤ã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ—ï¸ ç‰¹å¾´

### å—é–¢ç«¶é¦¬ç‰¹åŒ–
- **å¯¾è±¡ç«¶é¦¬å ´**: å¤§äº•ï¼ˆTCKï¼‰ãƒ»å·å´ãƒ»èˆ¹æ©‹ãƒ»æµ¦å’Œ
- **å¯¾è±¡ã‚«ãƒ†ã‚´ãƒª**: `nankan`ã®ã¿
- **ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼**: é’ç³»ï¼ˆãƒŠã‚¤ã‚¿ãƒ¼ç«¶é¦¬ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰

### nankan-analyticsã¸ã®å°ç·š
- ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã¨ã‚µã‚¤ãƒˆä¸€è¦§ãƒšãƒ¼ã‚¸ã«CTAè¨­ç½®
- ãƒ‡ãƒ¼ã‚¿åˆ†æã‚’æ±‚ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’èª˜å°
- SEOæœ€é©åŒ–ã§ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ç²å¾—

### Monorepoæ§‹æˆ
- **å…±é€šãƒ‘ãƒƒã‚±ãƒ¼ã‚¸**: `@keiba-review/shared`ã‚’åˆ©ç”¨
- **ç‹¬ç«‹ãƒ‡ãƒ—ãƒ­ã‚¤**: keiba-review-allã¨ã¯åˆ¥ã®ãƒ‰ãƒ¡ã‚¤ãƒ³
- **ã‚³ãƒ¼ãƒ‰å…±æœ‰**: UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€å£ã‚³ãƒŸã‚¨ãƒ³ã‚¸ãƒ³ã€Airtableãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

## ğŸ“¦ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| é …ç›® | æŠ€è¡“ |
|------|------|
| Framework | Astro 5.x + React 19.x |
| Styling | Tailwind CSS 4.x |
| Database | Airtableï¼ˆkeiba-review-allã¨å…±é€šï¼‰ |
| Deployment | Netlify |
| Package Manager | pnpm (workspace) |

## ğŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶
- Node.js 20.xä»¥ä¸Š
- pnpm 9.xä»¥ä¸Š
- Monorepoãƒ«ãƒ¼ãƒˆã§`pnpm install`å®Ÿè¡Œæ¸ˆã¿

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
# Monorepoãƒ«ãƒ¼ãƒˆã‹ã‚‰
pnpm --filter=@keiba-review/nankan-review dev

# ã¾ãŸã¯ nankan-reviewãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§
cd packages/nankan-review
pnpm dev
```

ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒãƒ¼ãƒˆ: `4322`ï¼ˆkeiba-review-allã¨ç«¶åˆã—ãªã„ã‚ˆã†ã«è¨­å®šï¼‰

### ãƒ“ãƒ«ãƒ‰

```bash
# Monorepoãƒ«ãƒ¼ãƒˆã‹ã‚‰
pnpm --filter=@keiba-review/nankan-review build

# ã¾ãŸã¯ nankan-reviewãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§
pnpm build
```

## ğŸ“ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 

```
nankan-review/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ index.astro                   # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ sites.astro                   # ã‚µã‚¤ãƒˆä¸€è¦§
â”‚   â”‚   â”œâ”€â”€ sites/[slug]/index.astro      # ã‚µã‚¤ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ about.astro                   # ã“ã®ã‚µã‚¤ãƒˆã«ã¤ã„ã¦
â”‚   â”‚   â”œâ”€â”€ contact.astro                 # ãŠå•ã„åˆã‚ã›
â”‚   â”‚   â”œâ”€â”€ terms.astro                   # åˆ©ç”¨è¦ç´„
â”‚   â”‚   â”œâ”€â”€ privacy.astro                 # ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼
â”‚   â”‚   â”œâ”€â”€ 404.astro                     # ã‚«ã‚¹ã‚¿ãƒ 404ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ api/
â”‚   â”‚       â”œâ”€â”€ reviews/submit.ts         # å£ã‚³ãƒŸæŠ•ç¨¿API
â”‚   â”‚       â””â”€â”€ contact.ts                # ãŠå•ã„åˆã‚ã›API
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ BaseLayout.astro              # åŸºæœ¬ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ components/                       # keiba-review-allã‹ã‚‰å…±æœ‰
â”‚   â”œâ”€â”€ lib/                              # @keiba-review/sharedã‹ã‚‰åˆ©ç”¨
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ global.css                    # ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆ82è¡Œï¼‰
â”œâ”€â”€ public/
â”‚   â””â”€â”€ favicon.svg                       # ãƒ•ã‚¡ãƒ“ã‚³ãƒ³
â”œâ”€â”€ package.json
â”œâ”€â”€ astro.config.mjs
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ AIRTABLE-AUTOMATION.md                # å£ã‚³ãƒŸé€šçŸ¥è¨­å®šã‚¬ã‚¤ãƒ‰
â””â”€â”€ CLAUDE.md                             # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
```

## ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³

### ã‚«ãƒ©ãƒ¼ãƒ‘ãƒ¬ãƒƒãƒˆ

```css
--nankan-primary: #1e40af;    /* é’ç³» - ãƒ—ãƒ©ã‚¤ãƒãƒª */
--nankan-secondary: #0284c7;  /* ã‚¹ã‚«ã‚¤ãƒ–ãƒ«ãƒ¼ - ã‚»ã‚«ãƒ³ãƒ€ãƒª */
--nankan-accent: #f59e0b;     /* ã‚ªãƒ¬ãƒ³ã‚¸ - ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ */
```

### ãƒ•ã‚©ãƒ³ãƒˆ
- ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚©ãƒ³ãƒˆå„ªå…ˆ
- Hiragino Sansï¼ˆmacOSï¼‰
- Meiryoï¼ˆWindowsï¼‰

## ğŸ”„ ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

### Airtableé€£æº

keiba-review-allã¨åŒã˜Airtable Baseã‚’ä½¿ç”¨ï¼š

```typescript
import { getSitesByCategory, sortByRankingScore } from '@keiba-review/shared/lib';

// nankanã‚«ãƒ†ã‚´ãƒªã®ã‚µã‚¤ãƒˆã®ã¿å–å¾—
const sites = await getSitesByCategory('nankan');
const ranked = sortByRankingScore(sites);
```

### å£ã‚³ãƒŸè‡ªå‹•æŠ•ç¨¿

shared/review-engineã‚’ä½¿ç”¨ã—ã¦å—é–¢ã‚µã‚¤ãƒˆã«å£ã‚³ãƒŸã‚’è‡ªå‹•æŠ•ç¨¿ï¼š
- æ¯æ—¥AM4:00ã«å®Ÿè¡Œï¼ˆGitHub Actionsï¼‰
- SiteQualityã«åŸºã¥ã„ã¦æŠ•ç¨¿é »åº¦ã‚’èª¿æ•´
- 534ä»¶ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ é¸æŠ

## ğŸ“ˆ SEOæˆ¦ç•¥

### ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰
- å—é–¢ç«¶é¦¬ äºˆæƒ³ã‚µã‚¤ãƒˆ
- å¤§äº•ç«¶é¦¬ äºˆæƒ³
- å·å´ç«¶é¦¬ äºˆæƒ³
- ãƒŠã‚¤ã‚¿ãƒ¼ç«¶é¦¬ äºˆæƒ³ã‚µã‚¤ãƒˆ
- TCK äºˆæƒ³

### ãƒ¡ã‚¿æƒ…å ±
- ã‚¿ã‚¤ãƒˆãƒ«: `[ãƒšãƒ¼ã‚¸å] | å—é–¢ç«¶é¦¬äºˆæƒ³ã‚µã‚¤ãƒˆå£ã‚³ãƒŸ`
- Description: å—é–¢4å ´ç‰¹åŒ–ã‚’å¼·èª¿
- Canonical URL: é©åˆ‡ã«è¨­å®š

### å†…éƒ¨ãƒªãƒ³ã‚¯
- nankan-analyticsã¸ã®å°ç·šã‚’æ˜ç¢ºã«
- é–¢é€£ã‚µã‚¤ãƒˆã¨ã—ã¦keiba-review-allã¸ã‚‚ãƒªãƒ³ã‚¯

## ğŸš€ ãƒ‡ãƒ—ãƒ­ã‚¤

### Netlifyè¨­å®š

```bash
# Netlifyã‚µã‚¤ãƒˆä½œæˆ
netlify sites:create --name nankan-review

# ç’°å¢ƒå¤‰æ•°è¨­å®š
netlify env:set AIRTABLE_API_KEY "xxx"
netlify env:set AIRTABLE_BASE_ID "xxx"
netlify env:set PUBLIC_GA_ID "G-XXXXXXXXXX"
netlify env:set SITE_URL "https://nankan-review.jp"

# æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤
netlify deploy --prod --build
```

### ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š
- äºˆå®šãƒ‰ãƒ¡ã‚¤ãƒ³: `nankan-review.jp`
- Netlify DNSã¾ãŸã¯ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®š

## ğŸ”® é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

### Phase 1ï¼ˆå®Œäº†âœ… 2025-12-30ï¼‰
- âœ… åŸºæœ¬ã‚µã‚¤ãƒˆæ§‹ç¯‰ï¼ˆãƒˆãƒƒãƒ—ã€ä¸€è¦§ã€aboutï¼‰
- âœ… nankanã‚«ãƒ†ã‚´ãƒªã®ã‚µã‚¤ãƒˆä¸€è¦§è¡¨ç¤º
- âœ… nankan-analyticsã¸ã®å°ç·š
- âœ… ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ç¢ºç«‹ï¼ˆé’ç³»ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- âœ… ãƒŠã‚¤ã‚¿ãƒ¼è¡¨è¨˜ã®ä¿®æ­£ï¼ˆæ­£ç¢ºãªå—é–¢ç«¶é¦¬æƒ…å ±ã«å¤‰æ›´ï¼‰

### Phase 2ï¼ˆå®Œäº†âœ… 2025-12-30ï¼‰
- âœ… ã‚µã‚¤ãƒˆè©³ç´°ãƒšãƒ¼ã‚¸ï¼ˆ/sites/[slug]/ï¼‰
  - è©•ä¾¡åˆ†å¸ƒãƒãƒ£ãƒ¼ãƒˆ
  - å£ã‚³ãƒŸä¸€è¦§ï¼ˆã‚½ãƒ¼ãƒˆãƒ»ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ï¼‰
  - é–¢é€£ã‚µã‚¤ãƒˆè¡¨ç¤º
  - æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿å¯¾å¿œï¼ˆProductã€BreadcrumbListï¼‰
- âœ… å£ã‚³ãƒŸæŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ï¼ˆReviewForm + APIï¼‰
- âœ… ãŠå•ã„åˆã‚ã›ãƒšãƒ¼ã‚¸ï¼ˆ/contact/ + APIï¼‰
- âœ… åˆ©ç”¨è¦ç´„ï¼ˆ/terms/ï¼‰
- âœ… ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼ï¼ˆ/privacy/ï¼‰
- âœ… ã‚«ã‚¹ã‚¿ãƒ 404ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸

### Phase 3ï¼ˆå®Œäº†âœ… 2025-12-30ï¼‰
- âœ… APIå®Ÿè£…
  - POST /api/reviews/submitï¼ˆå£ã‚³ãƒŸæŠ•ç¨¿ï¼‰
  - POST /api/contactï¼ˆãŠå•ã„åˆã‚ã›ï¼‰
- âœ… Airtableé€£æº
  - å£ã‚³ãƒŸè‡ªå‹•ä¿å­˜ï¼ˆStatus: pendingï¼‰
  - Sourceè­˜åˆ¥ï¼ˆnankan-reviewï¼‰
- âœ… å£ã‚³ãƒŸæŠ•ç¨¿é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
  - AIRTABLE-AUTOMATION.md å®Œå…¨ã‚¬ã‚¤ãƒ‰ä½œæˆ
  - ãƒ¡ãƒ¼ãƒ«/Slack/Discordé€šçŸ¥å¯¾å¿œ
  - ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å®Œå‚™

### Phase 4ï¼ˆå°†æ¥ï¼‰
- â³ å—é–¢4å ´åˆ¥ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- â³ ã‚³ãƒ¼ã‚¹åˆ¥ã®å‚¾å‘åˆ†æï¼ˆnankan-analyticsã¨ã®é€£æºï¼‰
- â³ é–‹å‚¬æƒ…å ±ã®è¡¨ç¤º
- â³ ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã‚·ã‚¹ãƒ†ãƒ 
- â³ å£ã‚³ãƒŸã¸ã®ã€Œå‚è€ƒã«ãªã£ãŸã€æŠ•ç¥¨æ©Ÿèƒ½

## ğŸ¯ å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½ä¸€è¦§

### ãƒšãƒ¼ã‚¸ï¼ˆå…¨8ãƒšãƒ¼ã‚¸ï¼‰
| ãƒšãƒ¼ã‚¸ | URL | èª¬æ˜ |
|--------|-----|------|
| ãƒˆãƒƒãƒ— | `/` | ãƒ’ãƒ¼ãƒ­ãƒ¼ã€çµ±è¨ˆã€ç‰¹å¾´ã€nankan-analytics CTA |
| ã‚µã‚¤ãƒˆä¸€è¦§ | `/sites/` | å—é–¢äºˆæƒ³ã‚µã‚¤ãƒˆã‚°ãƒªãƒƒãƒ‰è¡¨ç¤º |
| ã‚µã‚¤ãƒˆè©³ç´° | `/sites/[slug]/` | å£ã‚³ãƒŸä¸€è¦§ã€æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ã€è©•ä¾¡åˆ†å¸ƒ |
| ã“ã®ã‚µã‚¤ãƒˆ | `/about/` | å—é–¢ç«¶é¦¬ã®ç‰¹å¾´ã€å£ã‚³ãƒŸãƒãƒªã‚·ãƒ¼ |
| ãŠå•ã„åˆã‚ã› | `/contact/` | ãƒ•ã‚©ãƒ¼ãƒ  + APIé€£æº |
| åˆ©ç”¨è¦ç´„ | `/terms/` | 9æ¡æ§‹æˆ |
| ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ | `/privacy/` | GDPRæº–æ‹ ã€GA4å¯¾å¿œ |
| 404 | `/404` | ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸ |

### APIï¼ˆ2ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼‰
| ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | ãƒ¡ã‚½ãƒƒãƒ‰ | æ©Ÿèƒ½ |
|---------------|---------|------|
| `/api/reviews/submit` | POST | å£ã‚³ãƒŸæŠ•ç¨¿â†’Airtableä¿å­˜ |
| `/api/contact` | POST | ãŠå•ã„åˆã‚ã›â†’SendGridé€ä¿¡ |

### ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ï¼ˆAirtableï¼‰
- **Sitesãƒ†ãƒ¼ãƒ–ãƒ«**: category='nankan'ã§ãƒ•ã‚£ãƒ«ã‚¿
- **Reviewsãƒ†ãƒ¼ãƒ–ãƒ«**: Source='nankan-review'ã§è­˜åˆ¥
- **Status**: pendingï¼ˆæ‰¿èªå¾…ã¡ï¼‰â†’ approvedï¼ˆå…¬é–‹ï¼‰

### é€šçŸ¥ã‚·ã‚¹ãƒ†ãƒ 
- **Airtable Automation**: å£ã‚³ãƒŸæŠ•ç¨¿æ™‚ã«è‡ªå‹•é€šçŸ¥
- **å¯¾å¿œãƒãƒ£ãƒãƒ«**: ãƒ¡ãƒ¼ãƒ«ã€Slackã€Discord
- **è¨­å®šã‚¬ã‚¤ãƒ‰**: AIRTABLE-AUTOMATION.md

### ãƒ‡ã‚¶ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
- **ã‚«ãƒ©ãƒ¼**: é’ç³»ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆfrom-blue-600 to-sky-600ï¼‰
- **ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ**: max-w-6xl mx-auto px-4 çµ±ä¸€
- **ã‚¹ã‚¿ã‚¤ãƒ«**: Tailwind utilities onlyï¼ˆã‚«ã‚¹ã‚¿ãƒ CSSæœ€å°åŒ–ï¼‰
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: ãƒ¢ãƒã‚¤ãƒ«ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—

### SEOå¯¾ç­–
- æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ï¼ˆProductã€BreadcrumbListï¼‰
- å‹•çš„ãƒ¡ã‚¿ãƒ‡ã‚£ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ç”Ÿæˆ
- Canonical URLè¨­å®š
- Google Analytics 4çµ±åˆ

## ğŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼: "Rollup failed to resolve import 'airtable'"

**ç—‡çŠ¶:**
```
[vite]: Rollup failed to resolve import "airtable" from "src/pages/api/reviews/submit.ts"
```

**åŸå› :** `airtable`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒ`package.json`ã®ä¾å­˜é–¢ä¿‚ã«å«ã¾ã‚Œã¦ã„ãªã„

**è§£æ±ºæ–¹æ³•:**
```bash
# package.jsonã‚’ç¢ºèª
cat packages/nankan-review/package.json

# airtableãŒå«ã¾ã‚Œã¦ã„ãªã„å ´åˆã€è¿½åŠ 
# "dependencies"ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«ä»¥ä¸‹ã‚’è¿½åŠ :
# "airtable": "^0.12.2"

# ä¾å­˜é–¢ä¿‚ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pnpm install

# ãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆ
pnpm build
```

**ä¿®æ­£å±¥æ­´:** 2025-12-30ã«ç™ºè¦‹ãƒ»ä¿®æ­£ï¼ˆcommit: e9eb8aeï¼‰

### Netlifyãƒ‡ãƒ—ãƒ­ã‚¤ã‚¨ãƒ©ãƒ¼: "ERR_PNPM_OUTDATED_LOCKFILE"

**ç—‡çŠ¶:**
```
ERR_PNPM_OUTDATED_LOCKFILE  Cannot install with "frozen-lockfile"
because pnpm-lock.yaml is not up to date with package.json
```

**åŸå› :** `package.json`ã‚’å¤‰æ›´ã—ãŸãŒã€`pnpm-lock.yaml`ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ã„ãªã„

**è§£æ±ºæ–¹æ³•:**
```bash
# lockfileã‚’æ›´æ–°
pnpm install

# å¤‰æ›´ã‚’ç¢ºèª
git status
# â†’ modified: pnpm-lock.yaml

# lockfileã‚’ã‚³ãƒŸãƒƒãƒˆ
git add pnpm-lock.yaml
git commit -m "chore: Update pnpm-lock.yaml"
git push

# Netlifyã§è‡ªå‹•çš„ã«å†ãƒ‡ãƒ—ãƒ­ã‚¤ãŒé–‹å§‹ã•ã‚Œã‚‹
```

**é‡è¦:** CIç’°å¢ƒã§ã¯`--frozen-lockfile`ãƒ•ãƒ©ã‚°ãŒæœ‰åŠ¹ãªãŸã‚ã€lockfileã¨package.jsonã®å®Œå…¨ä¸€è‡´ãŒå¿…é ˆ

**ä¿®æ­£å±¥æ­´:** 2025-12-31ã«ç™ºè¦‹ãƒ»ä¿®æ­£ï¼ˆcommit: 2ec5054ï¼‰

### é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ãªã„ï¼ˆãƒãƒ¼ãƒˆç«¶åˆï¼‰

**ç—‡çŠ¶:** `Error: listen EADDRINUSE: address already in use :::4322`

**è§£æ±ºæ–¹æ³•:**
```bash
# ãƒãƒ¼ãƒˆ4322ã‚’ä½¿ç”¨ä¸­ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’ç¢ºèª
lsof -i :4322

# ãƒ—ãƒ­ã‚»ã‚¹ã‚’çµ‚äº†
kill -9 <PID>

# ã¾ãŸã¯åˆ¥ã®ãƒãƒ¼ãƒˆã§èµ·å‹•
pnpm dev -- --port 4323
```

### ç’°å¢ƒå¤‰æ•°ãŒèª­ã¿è¾¼ã¾ã‚Œãªã„

**ç—‡çŠ¶:** APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§Airtableæ¥ç¶šã‚¨ãƒ©ãƒ¼

**è§£æ±ºæ–¹æ³•:**
```bash
# .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèª
cat packages/nankan-review/.env

# å¿…é ˆç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
echo "AIRTABLE_API_KEY=your-api-key" >> packages/nankan-review/.env
echo "AIRTABLE_BASE_ID=your-base-id" >> packages/nankan-review/.env

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•
pnpm dev
```

## ğŸ“š å‚è€ƒè³‡æ–™

- [Monorepoå…¨ä½“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](../../CLAUDE.md)
- [shared ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸](../shared/README.md)
- [Airtable Automationè¨­å®šã‚¬ã‚¤ãƒ‰](./AIRTABLE-AUTOMATION.md)
- [Astro Documentation](https://docs.astro.build/)
- [Tailwind CSS](https://tailwindcss.com/)

## ğŸ¤ é–¢é€£ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

- **keiba-review-all**: ç·åˆç«¶é¦¬äºˆæƒ³ã‚µã‚¤ãƒˆå£ã‚³ãƒŸ
- **nankan-analytics**: å—é–¢ç«¶é¦¬ãƒ‡ãƒ¼ã‚¿åˆ†æã‚µã‚¤ãƒˆï¼ˆå°ç·šå…ˆï¼‰
- **shared**: å…±é€šãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ï¼ˆAirtableãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã€å‹å®šç¾©ï¼‰

## ğŸš¦ é‹ç”¨é–‹å§‹ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

æœ¬ç•ªç’°å¢ƒã§ã®é‹ç”¨å‰ã«ä»¥ä¸‹ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼š

- [ ] **ç’°å¢ƒå¤‰æ•°è¨­å®šå®Œäº†**
  - [ ] AIRTABLE_API_KEY
  - [ ] AIRTABLE_BASE_ID
  - [ ] PUBLIC_GA_IDï¼ˆæ¨å¥¨ï¼‰
  - [ ] SITE_URL
  - [ ] SENDGRID_API_KEYï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  - [ ] ADMIN_EMAILï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

- [ ] **Airtable Automationè¨­å®š**
  - [ ] AIRTABLE-AUTOMATION.mdå‚ç…§
  - [ ] ãƒ†ã‚¹ãƒˆå£ã‚³ãƒŸã§é€šçŸ¥ç¢ºèª

- [ ] **å‹•ä½œç¢ºèª**
  - [ ] å…¨ãƒšãƒ¼ã‚¸è¡¨ç¤ºç¢ºèª
  - [ ] ãƒ¢ãƒã‚¤ãƒ«è¡¨ç¤ºç¢ºèª
  - [ ] å£ã‚³ãƒŸæŠ•ç¨¿ãƒ†ã‚¹ãƒˆ
  - [ ] ãŠå•ã„åˆã‚ã›ãƒ†ã‚¹ãƒˆ
  - [ ] GA4ãƒˆãƒ©ãƒƒã‚­ãƒ³ã‚°ç¢ºèª

- [ ] **æœ¬ç•ªãƒ“ãƒ«ãƒ‰ãƒ†ã‚¹ãƒˆï¼ˆé‡è¦âš ï¸ï¼‰**
  - [ ] `pnpm build` ã§æœ¬ç•ªãƒ“ãƒ«ãƒ‰æˆåŠŸç¢ºèª
  - [ ] ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèª
  - [ ] ä¾å­˜é–¢ä¿‚ã®è§£æ±ºç¢ºèª

- [ ] **ãƒ‡ãƒ—ãƒ­ã‚¤**
  - [ ] GitHub Actionsã§è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤
  - [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³è¨­å®šï¼ˆnankan.keiba-review.jpï¼‰
  - [ ] SSLè¨¼æ˜æ›¸ç¢ºèª

---

**æœ€çµ‚æ›´æ–°:** 2025-12-31
**ãƒãƒ¼ã‚¸ãƒ§ãƒ³:** v1.0.2ï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤ä¿®æ­£å®Œäº†ï¼‰
**ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹:** âœ… å®Œæˆãƒ»é‹ç”¨ä¸­
**é‡è¦ãªä¿®æ­£:**
- airtableä¾å­˜é–¢ä¿‚ã®è¿½åŠ ï¼ˆcommit: e9eb8aeï¼‰
- pnpm-lock.yamlæ›´æ–°ï¼ˆcommit: 2ec5054ï¼‰
- Netlifyãƒ‡ãƒ—ãƒ­ã‚¤æˆåŠŸç¢ºèªæ¸ˆã¿
